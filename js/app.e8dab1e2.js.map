{"version":3,"file":"js/app.e8dab1e2.js","mappings":"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","sources":["webpack://bootstrap-vue/./src/App.vue","webpack://bootstrap-vue/./src/App.vue?7ccd","webpack://bootstrap-vue/./src/components/DeviceBlock.vue","webpack://bootstrap-vue/./src/components/DeviceBlock.vue?8362","webpack://bootstrap-vue/./src/views/HomePage.vue","webpack://bootstrap-vue/./src/views/HomePage.vue?150d","webpack://bootstrap-vue/./src/views/DashboardPage.vue","webpack://bootstrap-vue/./src/views/DashboardPage.vue?892a","webpack://bootstrap-vue/./src/router/index.js","webpack://bootstrap-vue/./src/main.js","webpack://bootstrap-vue/webpack/bootstrap","webpack://bootstrap-vue/webpack/runtime/chunk loaded","webpack://bootstrap-vue/webpack/runtime/compat get default export","webpack://bootstrap-vue/webpack/runtime/define property getters","webpack://bootstrap-vue/webpack/runtime/global","webpack://bootstrap-vue/webpack/runtime/hasOwnProperty shorthand","webpack://bootstrap-vue/webpack/runtime/make namespace object","webpack://bootstrap-vue/webpack/runtime/jsonp chunk loading","webpack://bootstrap-vue/webpack/startup"],"sourcesContent":["<script setup>\r\n  import { ref, onMounted } from 'vue'\r\n  \r\n// import AppHeader from \"./components/AppHeader\";\r\n/* \r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    // AppHeader\r\n  }\r\n} */\r\n  const download_spin_active = ref(false)\r\n  async function downloadFile() {\r\n    download_spin_active.value = true;\r\n\r\n    try {\r\n      let response = await fetch('http://bad-day.today:3000/file2/app/latest');\r\n      if (response.status === 200) {\r\n        let json_data = await response.json();\r\n        console.log(json_data);\r\n        let response_file = await fetch(json_data.link);\r\n        const data = await response_file.blob();\r\n        const link = document.createElement('a');\r\n        link.href = window.URL.createObjectURL(data);\r\n        link.setAttribute('download', `app-${json_data.version}.apk`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        link.remove();\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    \r\n    download_spin_active.value = false;\r\n  }\r\n</script>\r\n\r\n<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n    <div class=\"container-fluid\">\r\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul class=\"navbar-nav\">\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link active\" aria-current=\"page\" to=\"/\">Home</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/Map\">Tracker Map</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/Graphs\">Grafana</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/InfluxDB\">InfluxDB</router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <button @click=\"downloadFile\" class=\"btn btn-secondary pull-right\" :disabled=\"download_spin_active\">\r\n        <span v-if=\"download_spin_active\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          Download App\r\n      </button>\r\n    </div>\r\n  </nav>\r\n  <RouterView />\r\n</template>\r\n\r\n\r\n<style>\r\nbody {\r\n  background-color: gray;\r\n}\r\n\r\nmain {\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  /* max-height: 100%; */\r\n  /* background-color: bisque; */\r\n}\r\n\r\n#app {\r\n  /* background-color: bisque; */\r\n}\r\n\r\n.fill-height { display: flex; flex-direction: column; height: 100%; }\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4db9bf90&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\n    // import { ref, watchEffect } from 'vue'\r\n    import { ref, onMounted } from 'vue'\r\n    // import ArrowDown from '../../public/arrow-down.svg';\r\n\r\n    const emit = defineEmits(['debugChange'])\r\n\r\n    const device = defineProps({\r\n        name: Object\r\n    })\r\n    const API_URL = \"http://bad-day.today:3000/ota/upload\"\r\n    const spin_active = ref(false)\r\n    const send_btn_val = ref(\"Upload\")\r\n    const device_status = ref(\"Idle\")\r\n    const device_conn = ref(\"Disconnected\")\r\n    const device_conn_style = {\r\n        color: \"red\"\r\n    }\r\n    const device_conn_state = ref(false)\r\n\r\n    const show_debug = ref(true)\r\n    const debug_messages = ref([])\r\n\r\n    onMounted(() => {\r\n    })\r\n\r\n    function onMessage(data, topic) {\r\n        let topic_parts = topic.split('/')\r\n\r\n        if (topic_parts[1] == \"status\") {\r\n            switch (topic_parts[2]) {\r\n                case \"connection\": {\r\n                    console.log(`Received: ${topic} -> ${data}`)\r\n                    let parsed = JSON.parse(data)\r\n                    setConn(parsed.conn == \"true\", parsed.version.split(\"_\")[0]);\r\n                    // console.log(this.message.toString())\r\n                } break;\r\n                case \"ota\": {\r\n                    if (topic_parts[3] != \"status\") {\r\n                        break;\r\n                    }\r\n                    device_status.value = \"Updating: \" + data + \"%\"\r\n                    if (data == 100) {\r\n                        device_status.value = \"Update Finished\"\r\n                        spin_active.value = false\r\n                        send_btn_val.value = \"Upload\"\r\n                    } else {\r\n                        spin_active.value = true\r\n                        send_btn_val.value = \"In Progress...\"\r\n                    }\r\n                } break;\r\n                case \"debug\": {\r\n                    let first_lvl = topic_parts[3]\r\n                    if(first_lvl == \"startup\") {\r\n                        let parsed = JSON.parse(data)\r\n                        debug_messages.value = []\r\n                        console.log(\"Startup messages:\")\r\n                        parsed.messages.forEach((msg, index) => {\r\n                            console.log(msg)\r\n                            debug_messages.value.unshift({id: index+1, text: msg, time: new Date().toTimeString().split(\" \")[0]})\r\n                        });\r\n                    } else if (first_lvl == \"messages\") {\r\n                        let msg = data.toString();\r\n                        debug_messages.value.unshift({id: msg.split(\":\")[0], text: msg.replace(msg.split(\":\")[0] + \":\", \"\"), time: new Date().toTimeString().split(\" \")[0]})\r\n                    } else if (first_lvl == \"enabled\") {\r\n                        console.log(\"Got debug enabled: \" + data)\r\n                        data == 0 ? show_debug.value = false : show_debug.value = true\r\n                    }\r\n                } break;\r\n            }\r\n        } else if (topic_parts[1] == \"set\") {\r\n        // Empty for now\r\n        }\r\n    }\r\n\r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        console.log(\"Submitting\");\r\n        spin_active.value = true\r\n        send_btn_val.value = \"Sending...\"\r\n\r\n        try {\r\n            const formData = new FormData(form);\r\n            let response = await fetch(API_URL, {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n            if (response.status == 200) {\r\n                // spin_active.value = false\r\n                send_btn_val.value = \"Sent\"\r\n            }\r\n            response = await response.text()\r\n\r\n            console.log(response);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    function setConn(state, version) {\r\n        device_conn_state.value = state\r\n        device_conn.value = ((state ? \"C\" : \"Disc\") + \"onnected\") + \" \" + version\r\n        device_conn_style.color = state ? \"green\" : \"red\"\r\n    }\r\n\r\n    function changeDebug() {\r\n        // show_debug.value = !show_debug.value\r\n        emit('debugChange', device.name.text, !show_debug.value)\r\n    }\r\n\r\n    defineExpose({\r\n        onMessage,\r\n        setConn,\r\n        device\r\n    })\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  text-align: center;\r\n  padding: 1rem 0;\r\n  position: fixed;\r\n  width: 100%;\r\n  z-index: 1;\r\n  background-color: rgba(0, 0, 0, 0.9);\r\n}\r\n.header__title {\r\n  color: goldenrod;\r\n}\r\n.header__nav {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n}\r\n.header__nav__link {\r\n  text-decoration: none;\r\n  color: white;\r\n}\r\n</style>\r\n\r\n<template>\r\n    <div class=\"col-md-6 mb-4\">\r\n      <div class=\"card bg-dark text-white\">\r\n        <div class=\"card-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <RouterLink class=\"header__nav__link\" :to=\"'/Dashborad/'+device.name.text\">{{device.name.text}}</RouterLink>\r\n                    <!-- <h5 class=\"card-title\">{{device.name.text}}</h5> -->\r\n                </div>\r\n                <div class=\"col-4 ms-auto text-center\">\r\n                    <p class=\"rounded-pill fs-6\" :style=\"{backgroundColor: device_conn_style.color}\">{{device_conn}}</p>\r\n                </div>\r\n            </div>\r\n            <p class=\"card-text\">Device state: {{device_status}}</p>\r\n            <form @submit=\"onSubmit\" id=\"ota_form\" method=\"post\" enctype=\"multipart/form-data\">\r\n                <div class=\"form-group\">\r\n                    <input type=\"hidden\" id=\"dname\" name=\"device_id\" :value=device.name.text />\r\n                    <input class=\"form-control\" type=\"file\" name=\"firmware\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-4\">\r\n                            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"spin_active\">\r\n                                <span v-if=\"spin_active\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                {{send_btn_val}}\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"col-1 ms-auto\">\r\n                            <button class=\"btn\" @click=\"changeDebug()\" type=\"button\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-arrow-down-short\" viewBox=\"0 0 16 16\">\r\n                                    <path fill-rule=\"evenodd\" d=\"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z\"/>\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <ArrowDown /> -->\r\n                </div>  \r\n            </form>\r\n            <div v-if=\"show_debug && device_conn_state\" class=\"row table-responsive\" style=\"max-height: 200px;\" id=\"debug-table\">\r\n                <table class=\"table table-sm\" style=\"color:white\">\r\n                    <thead class=\"thead-dark\">\r\n                        <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Time</th>\r\n                        <th scope=\"col\">Message</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <template v-for=\"msg in debug_messages\" :key=\"msg.id\">\r\n                            <tr><th scope=\"row\">{{msg.id}}</th><td>{{msg.time}}</td><td>{{msg.text}}</td></tr>\r\n                        </template>\r\n                        <!-- <tr><th scope=\"row\">1<td>some time</td><td>message</td></th></tr> -->\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>","import script from \"./DeviceBlock.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DeviceBlock.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DeviceBlock.vue?vue&type=style&index=0&id=1fae2a03&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\VS_Code\\\\Vue\\\\vue_ota_ui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1fae2a03\"]])\n\nexport default __exports__","<script setup>\r\n  import { ref, onMounted, nextTick } from 'vue'\r\n  import DeviceBlock from '../components/DeviceBlock.vue'\r\n  import mqtt from 'mqtt/dist/mqtt'\r\n  // import server_cert from '../assets/server.crt'\r\n  const alert = ref({\r\n    show: false,\r\n    message: \"\",\r\n    style: \"alert-success\"\r\n  })\r\n\r\n  const pub_options = {qos: 1, retain: true};\r\n\r\n  const clientId = `mqtt_${Math.random().toString(16).slice(3)}`\r\n  var connection = {\r\n    host: 'bad-day.today',\r\n    port: 8091,\r\n    endpoint: '/',\r\n    clean: true, // Reserved session\r\n    connectTimeout: 4000, //  overtime time\r\n    reconnectPeriod: 4000, //  Rest continuous interval\r\n    //  Certification Information\r\n    clientId: clientId,\r\n    username: 'web',\r\n    password: 'webui',\r\n    rejectUnauthorized: false,\r\n  }\r\n\r\n  const itemRefs = ref([])\r\n  var client = {\r\n    connected: false,\r\n  }\r\n\r\n  onMounted(() => {\r\n    const { host, port, endpoint, ...options } = connection\r\n    const connectUrl = `ws://${host}:${port}${endpoint}`\r\n    try {\r\n      client = mqtt.connect(connectUrl, options)\r\n      client.on('connect', () => {\r\n        setAlert(\"alert-success\", \"Connected to MQTT server!\")\r\n        console.log('Connection succeeded!')\r\n        let to_sub = []\r\n        to_sub.push(\"+/status/connection\")\r\n        groceryList.value.forEach(element => subscribeElement(to_sub, element));\r\n        client.subscribe(to_sub, () => {\r\n          console.log(`Subscribed to topics`)\r\n        })\r\n      })\r\n      client.on(\"reconnect\", () => {\r\n        setAlert(\"alert-warning\", \"Reconnecting to MQTT server!\")\r\n      });\r\n      client.on('error', error => {\r\n        console.log('Connection failed', error)\r\n        setAlert(\"alert-danger\", \"MQTT Error: \" + error)\r\n      })\r\n      client.on('message', (topic, message) => {\r\n        // console.log(`Received: ${topic} -> ${message}`)\r\n        // itemRefs.value.forEach(checkMessageFor, {message, topic});\r\n        let allFalse = itemRefs.value.every(checkMessageFor, { message, topic });\r\n        if (allFalse && topic.split('/')[1] == \"status\" && topic.split('/')[2] == \"connection\") {\r\n          console.log(\"Adding new device \" + topic.split('/')[0])\r\n          let newElement = {id: groceryList.value.length, text: topic.split('/')[0], conn: \"Disconnected\"}\r\n          groceryList.value.push(newElement)\r\n          let new_sub_array = []\r\n          subscribeElement(new_sub_array, newElement)\r\n          client.subscribe(new_sub_array, () => {\r\n            console.log(`Subscribed to new topics`)\r\n          })\r\n          // DOM updated\r\n          nextTick(function () {\r\n            itemRefs.value.forEach(checkMessageFor, {message, topic})\r\n          });\r\n        }\r\n      })\r\n      client.on(\"close\", () => {\r\n        setAlert(\"alert-danger\", \"Connection lost to MQTT server!\")\r\n      })\r\n    } catch (error) {\r\n      console.log('mqtt.connect error', error)\r\n    }\r\n  })\r\n\r\n  function subscribeElement(to_sub, element) {\r\n    to_sub.push(element.text + \"/status/ota/status\")\r\n    to_sub.push(element.text + \"/status/debug/startup\")\r\n    to_sub.push(element.text + \"/status/debug/messages\")\r\n    to_sub.push(element.text + \"/status/debug/enabled\")\r\n  }\r\n\r\n  function checkMessageFor(element) {\r\n    if (this.topic.split('/')[0] == element.device.name.text) {\r\n      element.onMessage(this.message, this.topic)\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n  \r\n  function setAlert(style, message) {\r\n    // console.log(style)\r\n    alert.value.style = style\r\n    alert.value.message = message\r\n    alert.value.show = true\r\n    setTimeout(() => { alert.value.show = false }, 1500);\r\n  }\r\n\r\n  function debugChanged(name, state) {\r\n    console.log(name + \" -> \" + state)\r\n    // client.publish(name + \"/set/debug/enabled\", state)\r\n    client.publish(name + \"/set/debug/enabled\", new Uint8Array([state ? 1 : 0]), pub_options, error => {\r\n    if (error) {\r\n      console.log('Publish error', error)\r\n    }\r\n  })\r\n  }\r\n\r\n  const groceryList = ref([\r\n    { id: 0, text: 'PowerMeter-45BD9E7C', conn: \"Disconnected\" },\r\n    // { id: 1, text: 'PowerMeter-F4BD9E7C', conn: \"Disconnected\" },\r\n    // { id: 2, text: 'ESPCamera-FCAB6224', conn: \"Disconnected\" },\r\n  ])\r\n\r\n</script>\r\n\r\n<template>\r\n  <Transition name=\"fade\">\r\n    <div v-show=\"alert.show\" :class=\"['alert ', alert.style]\" role=\"alert\">{{alert.message}}</div>\r\n  </Transition>\r\n  <div class=\"row mt-4\">\r\n    <DeviceBlock\r\n        v-for=\"item in groceryList\"\r\n        @debug-change=\"debugChanged\"\r\n        :name=\"item\"\r\n        :conn=\"item.conn\"\r\n        :key=\"item.id\"\r\n        ref=\"itemRefs\"\r\n        ></DeviceBlock>\r\n  </div>        \r\n</template>\r\n    \r\n<style scoped>\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s ease-out;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=d998efe0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\VS_Code\\\\Vue\\\\vue_ota_ui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d998efe0\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport mqtt from 'mqtt/dist/mqtt'\r\n// import Chart from '../components/ChartNr1.ts';\r\nimport Chart from '../components/ChartTst';\r\nimport { useRoute } from 'vue-router'\r\n// import server_cert from '../assets/server.crt'\r\n\r\nconst emit = defineEmits(['debugChange'])\r\n\r\nconst alert = ref({\r\n  show: false,\r\n  message: \"\",\r\n  style: \"alert-success\"\r\n})\r\n\r\nconst id = ref(useRoute().params.id)\r\n//   const pub_options = {qos: 1, retain: true};\r\n\r\nconst device = ref({\r\n  connection: {\r\n    text: \"N/A\",\r\n    style_color: \"red\",\r\n  }\r\n})\r\n\r\nconst clientId = `mqtt_${Math.random().toString(16).slice(3)}`\r\nvar connection = {\r\n  host: 'bad-day.today',\r\n  port: 8091,\r\n  endpoint: '/',\r\n  clean: true, // Reserved session\r\n  connectTimeout: 4000, //  overtime time\r\n  reconnectPeriod: 4000, //  Rest continuous interval\r\n  clientId: clientId,\r\n  username: 'web',\r\n  password: 'webui',\r\n  rejectUnauthorized: false,\r\n}\r\n\r\n//   const itemRefs = ref([])\r\nvar client = {\r\n  connected: false,\r\n}\r\n\r\nconst device_conn_state = ref(false)\r\nconst show_debug = ref(true)\r\nconst debug_messages = ref([])\r\n\r\nonMounted(() => {\r\n  const { host, port, endpoint, ...options } = connection\r\n  const connectUrl = `ws://${host}:${port}${endpoint}`\r\n  try {\r\n    client = mqtt.connect(connectUrl, options)\r\n    client.on('connect', () => {\r\n      setAlert(\"alert-success\", \"Connected to MQTT server!\")\r\n      console.log('Connection succeeded!')\r\n      let to_sub = []\r\n      to_sub.push(id.value + \"/status/connection\")\r\n      to_sub.push(id.value + \"/status/data/main\")\r\n\r\n      to_sub.push(id.value + \"/status/debug/startup\")\r\n      to_sub.push(id.value + \"/status/debug/messages\")\r\n      to_sub.push(id.value + \"/status/debug/enabled\")\r\n\r\n      client.subscribe(to_sub, () => {\r\n        console.log(`Subscribed to topics`)\r\n      })\r\n    })\r\n    client.on(\"reconnect\", () => {\r\n      setAlert(\"alert-warning\", \"Reconnecting to MQTT server!\")\r\n    });\r\n    client.on('error', error => {\r\n      console.log('Connection failed', error)\r\n      setAlert(\"alert-danger\", \"MQTT Error: \" + error)\r\n    })\r\n    client.on('message', (topic, message) => {\r\n      // console.log(`Received: ${topic} -> ${message}`)\r\n      onMessage(topic, message)\r\n    })\r\n    client.on(\"close\", () => {\r\n      setAlert(\"alert-danger\", \"Connection lost to MQTT server!\")\r\n    })\r\n  } catch (error) {\r\n    console.log('mqtt.connect error', error)\r\n  }\r\n})\r\n\r\nfunction setAlert(style, message) {\r\n  // console.log(style)\r\n  alert.value.style = style\r\n  alert.value.message = message\r\n  alert.value.show = true\r\n  setTimeout(() => { alert.value.show = false }, 1500);\r\n}\r\n\r\nvar frame_data = ref([\r\n  ['Date', 'SolarPower'],\r\n  //   ['0', 0, 0],\r\n]);\r\n\r\nconst frame = ref({\r\n  solarW: 0,\r\n  solarV: 0,\r\n  acOutW: 0,\r\n  acOutPercent: 0,\r\n  battV: 0,\r\n  battChargeA: 0,\r\n  battDischargeA: 0,\r\n  mode: \"N/A\",\r\n  rssi: 0,\r\n  tempEnv: 0,\r\n  tempBat: 0,\r\n  date: \"N/A\"\r\n})\r\n\r\nfunction data_frame(data) {\r\n  let data_parts = data.split(\" \")\r\n  this.solarW = data_parts[0]\r\n  this.solarV = data_parts[1]\r\n  this.acOutW = data_parts[2]\r\n  this.acOutPercent = data_parts[3]\r\n  this.battV = data_parts[4]\r\n  this.battChargeA = data_parts[5]\r\n  this.battDischargeA = data_parts[6]\r\n  this.mode = modeToString(data_parts[7])\r\n  this.rssi = data_parts[8]\r\n  this.tempEnv = data_parts[9]\r\n  this.tempBat = data_parts[10]\r\n}\r\n\r\nfunction onMessage(topic, data) {\r\n  // console.log(id.value)\r\n  if (topic.split('/')[0] != id.value) {\r\n    return;\r\n  }\r\n\r\n  // let topic_parts = topic.split('/')\r\n\r\n  let topic_parts = topic.split('/')\r\n  if (topic_parts[1] == \"status\") {\r\n    switch (topic_parts[2]) {\r\n      case \"connection\": {\r\n        // console.log(`Received: ${topic} -> ${data}`)\r\n        let parsed = JSON.parse(data)\r\n        setConn(parsed.conn == \"true\", parsed.version.split(\"_\")[0]);\r\n        // console.log(this.message.toString())\r\n      } break;\r\n      case \"data\": {\r\n        let tmp_frame = new data_frame(String(data));\r\n        frame.value = tmp_frame\r\n        frame.value.date = getDate()\r\n        // frame_data.value.push([new Date().toString().split(\" \")[4], Number(frame.tempEnv), Number(frame.tempBat)]);\r\n      } break;\r\n      case \"debug\": {\r\n        let first_lvl = topic_parts[3]\r\n        if (first_lvl == \"startup\") {\r\n          let parsed = JSON.parse(data)\r\n          debug_messages.value = []\r\n          console.log(\"Startup messages:\")\r\n          parsed.messages.forEach((msg, index) => {\r\n            console.log(msg)\r\n            debug_messages.value.unshift({ id: index + 1, text: msg, time: new Date().toTimeString().split(\" \")[0] })\r\n          });\r\n        } else if (first_lvl == \"messages\") {\r\n          let msg = data.toString();\r\n          debug_messages.value.unshift({ id: msg.split(\":\")[0], text: msg.replace(msg.split(\":\")[0] + \":\", \"\"), time: new Date().toTimeString().split(\" \")[0] })\r\n        } else if (first_lvl == \"enabled\") {\r\n          console.log(\"Got debug enabled: \" + data)\r\n          data == 0 ? show_debug.value = false : show_debug.value = true\r\n        }\r\n      } break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction setConn(state, version) {\r\n  device_conn_state.value = state\r\n  device.value.connection.text = ((state ? \"C\" : \"Disc\") + \"onnected\") + \" \" + version\r\n  device.value.connection.style_color = state ? \"green\" : \"red\"\r\n}\r\n\r\nfunction getDate() {\r\n  let date_time = new Date();\r\n  let date = (\"0\" + date_time.getDate()).slice(-2);\r\n  let month = (\"0\" + (date_time.getMonth() + 1)).slice(-2);\r\n  let year = date_time.getFullYear();\r\n  let hours = (\"0\" + date_time.getHours()).slice(-2);\r\n  let minutes = (\"0\" + date_time.getMinutes()).slice(-2);\r\n  let seconds = (\"0\" + date_time.getSeconds()).slice(-2);\r\n  // prints date & time in YYYY-MM-DD HH:MM:SS format\r\n  return (year + \"-\" + month + \"-\" + date + \" \" + hours + \":\" + minutes + \":\" + seconds);\r\n}\r\n\r\nfunction modeToString(mode) {\r\n  switch (mode) {\r\n    case 'P':\r\n      return \"Power On\";\r\n    case 'S':\r\n      return \"Standby\";\r\n    case 'Y':\r\n      return \"Bypass\";\r\n    case 'L':\r\n      return \"Line\";\r\n    case 'B':\r\n      return \"Battery\";\r\n    case 'T':\r\n      return \"Battery Test\";\r\n    case 'F':\r\n      return \"Fault\";\r\n    case 'D':\r\n      return \"Shutdown\";\r\n    case 'G':\r\n      return \"Grid\";\r\n    case 'C':\r\n      return \"Charge\";\r\n    default:\r\n      return \"Undefined\";\r\n  }\r\n}\r\n\r\nfunction changeDebug() {\r\n  console.log(\"Emitting: \" + id.value)\r\n  emit('debugChange', id.value, !show_debug.value)\r\n}\r\n\r\n</script>\r\n    \r\n<template>\r\n  <Transition name=\"fade\">\r\n    <div v-show=\"alert.show\" :class=\"['alert ', alert.style]\" role=\"alert\">{{ alert.message }}</div>\r\n  </Transition>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 ms-auto\">\r\n        <h1 :style=\"{ color: device.connection.style_color }\">Device Status: {{ device.connection.text }}</h1>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <h2>Date: {{ frame.date }}</h2>\r\n        <h2>Mode: <span :style=\"{ color: frame.mode == 'Line' ? 'red' : 'green' }\">{{ frame.mode }}</span></h2>\r\n        <span>\r\n          <h2>RSSI: <span :style=\"{ color: frame.rssi < -90 ? 'red' : 'green' }\">{{ frame.rssi }}</span></h2>\r\n        </span>\r\n      </div>\r\n      <div class=\"col-4\">\r\n        <h2>Solar Power: {{ frame.solarW }}W</h2>\r\n        <h2>Solar Voltage: {{ frame.solarV }}V</h2>\r\n        <h2>AC Out Power: {{ frame.acOutW }}W</h2>\r\n      </div>\r\n      <div class=\"col-4\">\r\n        <h2>Battery Voltage: {{ frame.battV }}V</h2>\r\n        <h2>Battery Charge: {{ frame.battChargeA }}A</h2>\r\n        <h2>Battery Discharge: {{ frame.battDischargeA }}A</h2>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <h2>Enviroment Temperature: {{ frame.tempEnv }}&#8451;</h2>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <h2>Battery Temperature: {{ frame.tempBat }}&#8451;</h2>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"show_debug && device_conn_state\" class=\"row table-responsive mt-5\" style=\"max-height: 500px;\"\r\n      id=\"debug-table\">\r\n      <h2 style=\"color:white\">Debug Messages:</h2>\r\n      <!-- <div class=\"col-1 ms-auto\">\r\n        <button class=\"btn\" @click=\"changeDebug()\" type=\"button\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\"\r\n            class=\"bi bi-arrow-down-short\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\"\r\n              d=\"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z\" />\r\n          </svg>\r\n        </button>\r\n      </div> -->\r\n      <table class=\"table table-sm\" style=\"color:black\">\r\n        <thead class=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            <th scope=\"col\">Time</th>\r\n            <th scope=\"col\">Message</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <template v-for=\"msg in debug_messages\" :key=\"msg.id\">\r\n            <tr>\r\n              <th scope=\"row\">{{ msg.id }}</th>\r\n              <td>{{ msg.time }}</td>\r\n              <td style=\"color:white\">{{ msg.text }}</td>\r\n            </tr>\r\n          </template>\r\n          <!-- <tr><th scope=\"row\">1<td>some time</td><td>message</td></th></tr> -->\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!-- <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"chart-container\">\r\n                <Chart />\r\n              </div>\r\n            </div>\r\n          </div> -->\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  padding: 7rem 2rem;\r\n}\r\n\r\n.content__heading {\r\n  text-align: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.content__separator {\r\n  border-color: gray;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s ease-out;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.chart-container {\r\n  width: 50%;\r\n  height: 50%;\r\n  margin: auto;\r\n}</style>","import script from \"./DashboardPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DashboardPage.vue?vue&type=style&index=0&id=8f07292c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\VS_Code\\\\Vue\\\\vue_ota_ui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8f07292c\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, createWebHashHistory } from 'vue-router'\r\nimport HomePage from '../views/HomePage.vue'\r\nimport DashboardPage from \"../views/DashboardPage.vue\"\r\nimport MapPage from \"../views/MapPage.vue\"\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: HomePage,\r\n  },\r\n  {\r\n    path: '/Dashborad/:id',\r\n    name: '/PowerMeter',\r\n    component: DashboardPage,\r\n  },\r\n  {\r\n    path: '/Map',\r\n    name: 'Tracker Map',\r\n    // component: MapPage,\r\n  },\r\n  {\r\n    path: '/Graphs',\r\n    name: 'Grafana',\r\n    // component: MapPage,\r\n  },\r\n  {\r\n    path: '/InfluxDB',\r\n    name: 'InfluxDB',\r\n    // component: MapPage,\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  // history: createWebHistory(process.env.BASE_URL),\r\n  history: createWebHashHistory(),\r\n  routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.path === '/Map') {\r\n    window.location.href = 'http://bad-day.today:3002';\r\n  } else if (to.path === '/Graphs') {\r\n    window.location.href = 'http://bad-day.today:3001/d/Tvoo_jSVk/solar-power?orgId=1&refresh=10s&from=now%2Fd&to=now';\r\n  } else if (to.path === '/InfluxDB') {\r\n    window.location.href = 'http://bad-day.today:8086/orgs/4849ebbadb95a54a/dashboards-list';\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router\r\n","import \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport \"./assets/style.css\"\r\nimport { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\ncreateApp(App).use(router).mount('#app')\r\n\r\nimport \"bootstrap/dist/js/bootstrap.js\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbootstrap_vue\"] = self[\"webpackChunkbootstrap_vue\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(6073); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["download_spin_active","ref","async","downloadFile","value","response","fetch","status","json_data","json","console","log","response_file","link","data","blob","document","createElement","href","window","URL","createObjectURL","setAttribute","version","body","appendChild","click","remove","error","__exports__","API_URL","spin_active","send_btn_val","device_status","device_conn","device_conn_style","color","device_conn_state","show_debug","debug_messages","onMessage","topic","topic_parts","split","parsed","JSON","parse","setConn","conn","first_lvl","messages","forEach","msg","index","unshift","id","text","time","Date","toTimeString","toString","replace","onSubmit","e","preventDefault","form","currentTarget","formData","FormData","method","state","changeDebug","emit","device","name","onMounted","expose","alert","show","message","style","pub_options","qos","retain","clientId","Math","random","slice","connection","host","port","endpoint","clean","connectTimeout","reconnectPeriod","username","password","rejectUnauthorized","itemRefs","client","connected","subscribeElement","to_sub","element","push","checkMessageFor","this","setAlert","setTimeout","debugChanged","publish","Uint8Array","options","connectUrl","mqtt","on","groceryList","subscribe","allFalse","every","newElement","length","new_sub_array","nextTick","useRoute","params","style_color","frame","solarW","solarV","acOutW","acOutPercent","battV","battChargeA","battDischargeA","mode","rssi","tempEnv","tempBat","date","data_frame","data_parts","modeToString","tmp_frame","String","getDate","date_time","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","routes","path","component","HomePage","DashboardPage","router","createRouter","history","createWebHashHistory","beforeEach","to","from","next","location","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}